webpackJsonp([31],{"8z31":function(e,t,o){var n=o("XHMp");"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);o("rjj0")("6984f979",n,!0,{})},"Dp/Q":function(e,t,o){(e.exports=o("FZ+f")(!1)).push([e.i,'\n.menu-anime-sort[data-v-7b57b32c] {\n  color: gray;\n  width: 100%;\n  text-align: center;\n  overflow: hidden;\n}\n.menu-anime-hover[data-v-7b57b32c] {\n  margin-top: 10px;\n  margin-bottom: 5px;\n}\n.anime-sort-area[data-v-7b57b32c] {\n  max-height: 40%;\n  overflow-x: hidden;\n  overflow-y: auto;\n}\n.menu-anime-item[data-v-7b57b32c] {\n  width: 120px;\n  height: 50px;\n  margin: 10px auto 0 auto;\n  padding: 0 10px;\n  line-height: 50px;\n  border: 1px solid gray;\n}\n.menu-anime-item select[data-v-7b57b32c] {\n  width: 100%;\n}\n.menu-anime-border[data-v-7b57b32c] {\n  border: 1px solid #148acf;\n}\n/* 具体动画编辑 */\n.anime-set-table[data-v-7b57b32c] {\n  width: 100%;\n}\n.anime-set-table .iconfont[data-v-7b57b32c] {\n  color: #148acf;\n  font-size: 22px;\n}\n.anime-set-table th[data-v-7b57b32c],\ntd[data-v-7b57b32c] {\n  height: 30px;\n  line-height: 30px;\n  text-align: center;\n}\n.anime-set-table input[data-v-7b57b32c] {\n  display: inline-block;\n  width: 80%;\n  border: none;\n  text-align: center;\n  height: 22px;\n}\n.icon-anim-translate[data-v-7b57b32c]:hover::after {\n  content: "\\5E73\\79FB";\n  color: black;\n  position: absolute;\n  left: 60px;\n  font-size: 16px;\n  background-color: whitesmoke;\n  border-radius: 3px;\n  padding: 0 5px;\n}\n.icon-anim-rotate[data-v-7b57b32c]:hover::after {\n  content: "\\65CB\\8F6C";\n  color: black;\n  position: absolute;\n  left: 60px;\n  font-size: 16px;\n  background-color: whitesmoke;\n  border-radius: 3px;\n  padding: 0 5px;\n}\n.icon-anim-scale[data-v-7b57b32c]:hover::after {\n  content: "\\7F29\\653E";\n  color: black;\n  position: absolute;\n  left: 60px;\n  font-size: 16px;\n  background-color: whitesmoke;\n  border-radius: 3px;\n  padding: 0 5px;\n}\n.icon-anim-skew[data-v-7b57b32c]:hover::after {\n  content: "\\503E\\659C";\n  color: black;\n  position: absolute;\n  left: 60px;\n  font-size: 16px;\n  background-color: whitesmoke;\n  border-radius: 3px;\n  padding: 0 5px;\n}\n.icon-anim-alpha[data-v-7b57b32c]:hover::after {\n  content: "\\900F\\660E\\5EA6";\n  color: black;\n  position: absolute;\n  left: 60px;\n  font-size: 16px;\n  background-color: whitesmoke;\n  border-radius: 3px;\n  padding: 0 5px;\n}\n',""])},SXzR:function(e,t,o){e.exports=function(e){var t={};function o(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,o),r.l=!0,r.exports}return o.m=e,o.c=t,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/dist/",o(o.s=232)}({0:function(e,t){e.exports=function(e,t,o,n,r,i){var a,s=e=e||{},l=typeof e.default;"object"!==l&&"function"!==l||(a=e,s=e.default);var p,c="function"==typeof s?s.options:s;if(t&&(c.render=t.render,c.staticRenderFns=t.staticRenderFns,c._compiled=!0),o&&(c.functional=!0),r&&(c._scopeId=r),i?(p=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),n&&n.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(i)},c._ssrRegister=p):n&&(p=n),p){var d=c.functional,u=d?c.render:c.beforeCreate;d?(c._injectStyles=p,c.render=function(e,t){return p.call(t),u(e,t)}):c.beforeCreate=u?[].concat(u,p):[p]}return{esModule:a,exports:s,options:c}}},2:function(e,t){e.exports=o("2kvA")},232:function(e,t,o){e.exports=o(233)},233:function(e,t,o){"use strict";t.__esModule=!0;var n=i(o(234)),r=i(o(237));function i(e){return e&&e.__esModule?e:{default:e}}i(o(4)).default.directive("popover",r.default),n.default.install=function(e){e.directive("popover",r.default),e.component(n.default.name,n.default)},n.default.directive=r.default,t.default=n.default},234:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(235),r=o.n(n),i=o(236),a=o(0)(r.a,i.a,!1,null,null,null);t.default=a.exports},235:function(e,t,o){"use strict";t.__esModule=!0;var n,r=o(7),i=(n=r)&&n.__esModule?n:{default:n},a=o(2),s=o(3);t.default={name:"ElPopover",mixins:[i.default],props:{trigger:{type:String,default:"click",validator:function(e){return["click","focus","hover","manual"].indexOf(e)>-1}},openDelay:{type:Number,default:0},title:String,disabled:Boolean,content:String,reference:{},popperClass:String,width:{},visibleArrow:{default:!0},arrowOffset:{type:Number,default:0},transition:{type:String,default:"fade-in-linear"}},computed:{tooltipId:function(){return"el-popover-"+(0,s.generateId)()}},watch:{showPopper:function(e){e?this.$emit("show"):this.$emit("hide")}},mounted:function(){var e=this,t=this.referenceElm=this.reference||this.$refs.reference,o=this.popper||this.$refs.popper;if(!t&&this.$slots.reference&&this.$slots.reference[0]&&(t=this.referenceElm=this.$slots.reference[0].elm),t&&((0,a.addClass)(t,"el-popover__reference"),t.setAttribute("aria-describedby",this.tooltipId),t.setAttribute("tabindex",0),o.setAttribute("tabindex",0),"click"!==this.trigger&&((0,a.on)(t,"focusin",function(){e.handleFocus();var o=t.__vue__;o&&o.focus&&o.focus()}),(0,a.on)(o,"focusin",this.handleFocus),(0,a.on)(t,"focusout",this.handleBlur),(0,a.on)(o,"focusout",this.handleBlur)),(0,a.on)(t,"keydown",this.handleKeydown),(0,a.on)(t,"click",this.handleClick)),"click"===this.trigger)(0,a.on)(t,"click",this.doToggle),(0,a.on)(document,"click",this.handleDocumentClick);else if("hover"===this.trigger)(0,a.on)(t,"mouseenter",this.handleMouseEnter),(0,a.on)(o,"mouseenter",this.handleMouseEnter),(0,a.on)(t,"mouseleave",this.handleMouseLeave),(0,a.on)(o,"mouseleave",this.handleMouseLeave);else if("focus"===this.trigger){var n=!1;if([].slice.call(t.children).length)for(var r=t.childNodes,i=r.length,s=0;s<i;s++)if("INPUT"===r[s].nodeName||"TEXTAREA"===r[s].nodeName){(0,a.on)(r[s],"focusin",this.doShow),(0,a.on)(r[s],"focusout",this.doClose),n=!0;break}if(n)return;"INPUT"===t.nodeName||"TEXTAREA"===t.nodeName?((0,a.on)(t,"focusin",this.doShow),(0,a.on)(t,"focusout",this.doClose)):((0,a.on)(t,"mousedown",this.doShow),(0,a.on)(t,"mouseup",this.doClose))}},methods:{doToggle:function(){this.showPopper=!this.showPopper},doShow:function(){this.showPopper=!0},doClose:function(){this.showPopper=!1},handleFocus:function(){(0,a.addClass)(this.referenceElm,"focusing"),"manual"!==this.trigger&&(this.showPopper=!0)},handleClick:function(){(0,a.removeClass)(this.referenceElm,"focusing")},handleBlur:function(){(0,a.removeClass)(this.referenceElm,"focusing"),"manual"!==this.trigger&&(this.showPopper=!1)},handleMouseEnter:function(){var e=this;clearTimeout(this._timer),this.openDelay?this._timer=setTimeout(function(){e.showPopper=!0},this.openDelay):this.showPopper=!0},handleKeydown:function(e){27===e.keyCode&&"manual"!==this.trigger&&this.doClose()},handleMouseLeave:function(){var e=this;clearTimeout(this._timer),this._timer=setTimeout(function(){e.showPopper=!1},200)},handleDocumentClick:function(e){var t=this.reference||this.$refs.reference,o=this.popper||this.$refs.popper;!t&&this.$slots.reference&&this.$slots.reference[0]&&(t=this.referenceElm=this.$slots.reference[0].elm),this.$el&&t&&!this.$el.contains(e.target)&&!t.contains(e.target)&&o&&!o.contains(e.target)&&(this.showPopper=!1)},handleAfterEnter:function(){this.$emit("after-enter")},handleAfterLeave:function(){this.$emit("after-leave"),this.doDestroy()}},destroyed:function(){var e=this.reference;(0,a.off)(e,"click",this.doToggle),(0,a.off)(e,"mouseup",this.doClose),(0,a.off)(e,"mousedown",this.doShow),(0,a.off)(e,"focusin",this.doShow),(0,a.off)(e,"focusout",this.doClose),(0,a.off)(e,"mouseleave",this.handleMouseLeave),(0,a.off)(e,"mouseenter",this.handleMouseEnter),(0,a.off)(document,"click",this.handleDocumentClick)}}},236:function(e,t,o){"use strict";var n={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("span",[o("transition",{attrs:{name:e.transition},on:{"after-enter":e.handleAfterEnter,"after-leave":e.handleAfterLeave}},[o("div",{directives:[{name:"show",rawName:"v-show",value:!e.disabled&&e.showPopper,expression:"!disabled && showPopper"}],ref:"popper",staticClass:"el-popover el-popper",class:[e.popperClass,e.content&&"el-popover--plain"],style:{width:e.width+"px"},attrs:{role:"tooltip",id:e.tooltipId,"aria-hidden":e.disabled||!e.showPopper?"true":"false"}},[e.title?o("div",{staticClass:"el-popover__title",domProps:{textContent:e._s(e.title)}}):e._e(),e._t("default",[e._v(e._s(e.content))])],2)]),e._t("reference")],2)},staticRenderFns:[]};t.a=n},237:function(e,t,o){"use strict";t.__esModule=!0;var n=function(e,t,o){var n=t.expression?t.value:t.arg,r=o.context.$refs[n];r&&(r.$refs.reference=e)};t.default={bind:function(e,t,o){n(e,t,o)},inserted:function(e,t,o){n(e,t,o)}}},3:function(e,t){e.exports=o("ylDJ")},4:function(e,t){e.exports=o("7+uW")},7:function(e,t){e.exports=o("fKx3")}})},XHMp:function(e,t,o){(e.exports=o("FZ+f")(!1)).push([e.i,'.el-popper .popper__arrow,.el-popper .popper__arrow::after{position:absolute;display:block;width:0;height:0;border-color:transparent;border-style:solid}.el-popper .popper__arrow{border-width:6px;-webkit-filter:drop-shadow(0 2px 12px rgba(0, 0, 0, .03));filter:drop-shadow(0 2px 12px rgba(0, 0, 0, .03))}.el-popper .popper__arrow::after{content:" ";border-width:6px}.el-popper[x-placement^=top]{margin-bottom:12px}.el-popper[x-placement^=top] .popper__arrow{bottom:-6px;left:50%;margin-right:3px;border-top-color:#ebeef5;border-bottom-width:0}.el-popper[x-placement^=top] .popper__arrow::after{bottom:1px;margin-left:-6px;border-top-color:#fff;border-bottom-width:0}.el-popper[x-placement^=bottom]{margin-top:12px}.el-popper[x-placement^=bottom] .popper__arrow{top:-6px;left:50%;margin-right:3px;border-top-width:0;border-bottom-color:#ebeef5}.el-popper[x-placement^=bottom] .popper__arrow::after{top:1px;margin-left:-6px;border-top-width:0;border-bottom-color:#fff}.el-popper[x-placement^=right]{margin-left:12px}.el-popper[x-placement^=right] .popper__arrow{top:50%;left:-6px;margin-bottom:3px;border-right-color:#ebeef5;border-left-width:0}.el-popper[x-placement^=right] .popper__arrow::after{bottom:-6px;left:1px;border-right-color:#fff;border-left-width:0}.el-popper[x-placement^=left]{margin-right:12px}.el-popper[x-placement^=left] .popper__arrow{top:50%;right:-6px;margin-bottom:3px;border-right-width:0;border-left-color:#ebeef5}.el-popper[x-placement^=left] .popper__arrow::after{right:1px;bottom:-6px;margin-left:-6px;border-right-width:0;border-left-color:#fff}.el-popover{position:absolute;background:#fff;min-width:150px;border-radius:4px;border:1px solid #ebeef5;padding:12px;z-index:2000;color:#606266;line-height:1.4;text-align:justify;font-size:14px;-webkit-box-shadow:0 2px 12px 0 rgba(0,0,0,.1);box-shadow:0 2px 12px 0 rgba(0,0,0,.1)}.el-popover--plain{padding:18px 20px}.el-popover__title{color:#303133;font-size:16px;line-height:1;margin-bottom:12px}.el-popover:focus,.el-popover:focus:active,.el-popover__reference:focus:hover,.el-popover__reference:focus:not(.focusing){outline-width:0}',""])},jUxi:function(e,t,o){var n=o("Dp/Q");"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);o("rjj0")("793f8de2",n,!0,{})},xqkn:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});o("8z31"),o("+BTi");var n=o("SXzR"),r={name:"AnimeEditor",components:{"el-popover":o.n(n).a},data:function(){return{curInstance:null,animeSort:{auto:[],click:[]},animes:{transX:{duration:0,delay:0},rotate:{duration:0,delay:0},scale:{duration:0,delay:0},opacity:{duration:0,delay:0}}}},methods:{resetAnimeSort:function(){var e=this,t=this.$root.editorManager.getSection().components;this.animeSort.auto=[],this.animeSort.click=[],t.forEach(function(t,o){"0"===t.params.aLevel?e.animeSort.auto.push(t):e.animeSort.click.push(t)})},selectObject:function(e){e.setIsSelected(!0)},setInstance:function(e){if(this.curInstance=e,this.curInstance){var t=this.curInstance.params.aAnime;for(var o in this.animes)this.animes.hasOwnProperty(o)&&(t?(this.animes[o].duration=t[o]?t[o].duration:0,this.animes[o].delay=t[o]?t[o].delay:0,void 0===this.animes[o].delay&&(this.animes[o].delay=0)):(this.animes[o].duration=0,this.animes[o].delay=0))}},onAnimeEditEnd:function(){if(this.curInstance){var e=void 0;for(var t in this.animes)if(this.animes.hasOwnProperty(t)){var o=parseInt(this.animes[t].duration,0);if(o>0){e||(e={}),e[t]||(e[t]={}),e[t].duration=o;var n=parseInt(this.animes[t].delay,0);n>0&&(e[t].delay=n)}}this.curInstance.params.aAnime=e}},getIconIndex:function(e){return"transX"===e?e="translate":"opacity"===e&&(e="alpha"),e}},created:function(){console.log("anime-sort create"),this.resetAnimeSort(),this.$root.editorManager.topLayerType=""},mounted:function(){this.$root.editorManager.setAnimeEditor(this),this.animeSort.auto.length>0?this.animeSort.auto[0].setIsSelected(!0):this.animeSort.click.length>0&&this.animeSort.click[0].setIsSelected(!0)},destroyed:function(){this.$root.editorManager.setAnimeEditor(null),this.curInstance=null}},i={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return e.curInstance?o("div",{staticClass:"menu-anime-sort"},[o("el-popover",{attrs:{placement:"right",width:"260",trigger:"click"}},[o("table",{staticClass:"anime-set-table",on:{change:function(t){e.onAnimeEditEnd()}}},[o("tr",[o("th",{staticStyle:{width:"30%"}},[e._v("动画类")]),e._v(" "),o("th",[e._v("时间(ms)")]),e._v(" "),o("th",[e._v("延时(ms)")])]),e._v(" "),e._l(e.animes,function(t,n){return o("tr",{key:n},[o("td",[o("i",{class:["iconfont icon-anim-"+e.getIconIndex(n)]})]),e._v(" "),o("td",[o("input",{directives:[{name:"model",rawName:"v-model",value:t.duration,expression:"entity.duration"}],domProps:{value:t.duration},on:{input:function(o){o.target.composing||e.$set(t,"duration",o.target.value)}}})]),e._v(" "),o("td",[o("input",{directives:[{name:"model",rawName:"v-model",value:t.delay,expression:"entity.delay"}],domProps:{value:t.delay},on:{input:function(o){o.target.composing||e.$set(t,"delay",o.target.value)}}})])])})],2),e._v(" "),o("el-button",{staticStyle:{margin:"5px 0"},attrs:{slot:"reference",size:"mini"},slot:"reference"},[e._v("编辑动画")])],1),e._v(" "),o("div",{staticStyle:{width:"90%",margin:"5px auto","border-top":"2px solid white",padding:"0"}}),e._v(" "),e.animeSort.auto.length>0?o("p",{staticClass:"menu-anime-hover",attrs:{title:"展示时每页开始自动播放动画"}},[e._v("默认动画")]):e._e(),e._v(" "),e.animeSort.auto.length>0?o("div",{staticClass:"anime-sort-area"},e._l(e.animeSort.auto,function(t,n){return o("div",{key:n,staticClass:"menu-anime-item",class:{"menu-anime-border":e.$root.editorManager.selectedObject.instance===t},on:{click:function(o){e.selectObject(t)}}},[o("select",{directives:[{name:"model",rawName:"v-model",value:t.params.aLevel,expression:"item.params.aLevel"}],on:{change:[function(o){var n=Array.prototype.filter.call(o.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.$set(t.params,"aLevel",o.target.multiple?n:n[0])},function(t){e.resetAnimeSort()}]}},[o("option",{attrs:{vlaue:"0"}},[e._v("0")]),e._v(" "),o("option",{attrs:{vlaue:"1"}},[e._v("1")]),e._v(" "),o("option",{attrs:{vlaue:"2"}},[e._v("2")]),e._v(" "),o("option",{attrs:{vlaue:"3"}},[e._v("3")]),e._v(" "),o("option",{attrs:{vlaue:"4"}},[e._v("4")]),e._v(" "),o("option",{attrs:{vlaue:"5"}},[e._v("5")])])])})):e._e(),e._v(" "),o("div",{staticStyle:{width:"90%",margin:"5px auto","border-top":"2px solid white",padding:"0"}}),e._v(" "),e.animeSort.click.length>0?o("p",{staticClass:"menu-anime-hover",attrs:{title:"展示时左键点击按序播放动画"}},[e._v("点击动画")]):e._e(),e._v(" "),e.animeSort.click.length>0?o("div",{staticClass:"anime-sort-area"},e._l(e.animeSort.click,function(t,n){return o("div",{key:n,staticClass:"menu-anime-item",class:{"menu-anime-border":e.curInstance===t},on:{click:function(o){e.selectObject(t)}}},[o("select",{directives:[{name:"model",rawName:"v-model",value:t.params.aLevel,expression:"item.params.aLevel"}],on:{change:[function(o){var n=Array.prototype.filter.call(o.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.$set(t.params,"aLevel",o.target.multiple?n:n[0])},function(t){e.resetAnimeSort()}]}},[o("option",{attrs:{vlaue:"0"}},[e._v("0")]),e._v(" "),o("option",{attrs:{vlaue:"1"}},[e._v("1")]),e._v(" "),o("option",{attrs:{vlaue:"2"}},[e._v("2")]),e._v(" "),o("option",{attrs:{vlaue:"3"}},[e._v("3")]),e._v(" "),o("option",{attrs:{vlaue:"4"}},[e._v("4")]),e._v(" "),o("option",{attrs:{vlaue:"5"}},[e._v("5")])])])})):e._e()],1):e._e()},staticRenderFns:[]};var a=o("VU/8")(r,i,!1,function(e){o("jUxi")},"data-v-7b57b32c",null);t.default=a.exports}});